@page "/cards"
@using Hackathon.Data

<h2 style="text-align:center;">ğŸ´ æ‰€æœ‰åœ°å€å¡ç‰‡ä¸€è¦½</h2>

@foreach (var group in allCards)
{
    <h4 style="margin-top:20px; text-align:center;">ğŸ™ï¸ @group.Key</h4>
    <div class="card-gallery">
        @foreach (var card in group.Value)
        {
            <div class="card-item @card.ColorTag">
                <div class="card-title">@card.Title</div>
                <div class="card-image"></div>
                <div class="card-stats">
                    <div>ğŸ’° @card.MoneyChange ğŸŒ¿ @card.EcoChange ğŸ›ï¸ @card.SocialChange</div>
                </div>
                <div class="card-desc">@card.Description</div>
            </div>
        }
    </div>
}

@code {
    // å­—å…¸çµæ§‹ï¼šåŸå¸‚å -> å¡ç‰‡æ¸…å–®
    Dictionary<string, List<CardInfo>> allCards = new();

    protected override void OnInitialized()
    {
        // å¾ CardDESC.Title çš„ key å–å¾—æ‰€æœ‰å·²æ”¶éŒ„çš„åŸå¸‚
        var cities = CardDESC.Title.Keys;

        foreach (var city in cities)
        {
            allCards[city] = CardData.GetCardsForCity(city);
        }
    }
}